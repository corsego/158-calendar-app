<% if params[:direction] == 'next' %>
  <%= turbo_stream.after @date.beginning_of_week do %>
    <%= render 'calendar/week', date: @date + 1.week %>
  <% end %>

  <%= turbo_stream.replace :next do %>
    <%= turbo_frame_tag :next, src: calendar_week_path(format: :turbo_stream, date: @date + 1.week, direction: :next), loading: :lazy %>
  <% end %>
<% elsif params[:direction] == 'prev' %>
  <%= turbo_stream.before @date.beginning_of_week do %>
    <%= render 'calendar/week', date: @date - 1.week %>
  <% end %>

  <%= turbo_stream.update :prev do %>
    <%= button_to 'prev', calendar_week_path(date: @date - 1.week, direction: :prev) %>
  <% end %>
<% end %>
